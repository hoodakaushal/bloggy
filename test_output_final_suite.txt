
Running 36 tests using 5 workers

[1A[2K[1/36] [chromium] â€º tests/security.spec.ts:64:5 â€º Security Tests â€º should redirect unauthenticated users from admin routes
[1A[2K[2/36] [chromium] â€º tests/security.spec.ts:6:5 â€º Security Tests â€º should prevent XSS in blog comments
[1A[2K[3/36] [chromium] â€º tests/security.spec.ts:77:5 â€º Security Tests â€º should prevent SQL injection in login
[1A[2K[4/36] [chromium] â€º tests/gremlin.spec.ts:60:5 â€º Gremlin (Chaos) Tests â€º should survive chaos on admin dashboard
[1A[2K[5/36] [chromium] â€º tests/gremlin.spec.ts:38:5 â€º Gremlin (Chaos) Tests â€º should survive chaos on home page
[1A[2K[6/36] [chromium] â€º tests/security.spec.ts:98:5 â€º Security Tests â€º should prevent unauthorized API access
[1A[2K[7/36] [chromium] â€º tests/visual.spec.ts:6:5 â€º Visual Regression Tests â€º home page snapshot
[1A[2K[8/36] [chromium] â€º tests/visual.spec.ts:19:5 â€º Visual Regression Tests â€º login page snapshot
[1A[2K[9/36] [chromium] â€º tests/visual.spec.ts:25:5 â€º Visual Regression Tests â€º blog view snapshot
[1A[2K[10/36] [chromium] â€º tests/visual.spec.ts:47:5 â€º Visual Regression Tests â€º admin dashboard snapshot
[1A[2K[11/36] [chromium] â€º tests/visual.spec.ts:58:5 â€º Visual Regression Tests â€º home page aria snapshot
[1A[2K  1) [chromium] â€º tests/visual.spec.ts:47:5 â€º Visual Regression Tests â€º admin dashboard snapshot â”€â”€â”€

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveScreenshot[2m([22m[32mexpected[39m[2m)[22m failed

      26 pixels (ratio 0.01 of all image pixels) are different.

      Snapshot: admin-dashboard.png

    Call log:
    [2m  - Expect "toHaveScreenshot(admin-dashboard.png)" with timeout 5000ms[22m
    [2m    - verifying given screenshot expectation[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - 26 pixels (ratio 0.01 of all image pixels) are different.[22m
    [2m  - waiting 100ms before taking screenshot[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - captured a stable screenshot[22m
    [2m  - 26 pixels (ratio 0.01 of all image pixels) are different.[22m


      50 |         await page.waitForLoadState('networkidle');
      51 |         // Mask the table rows as they contain dynamic dates/IDs
    > 52 |         await expect(page).toHaveScreenshot('admin-dashboard.png', {
         |                            ^
      53 |             fullPage: true,
      54 |             mask: [page.locator('table tbody')]
      55 |         });
        at /Users/vybhav/Documents/vybhi/bloggy/tests/visual.spec.ts:52:28

    attachment #1: admin-dashboard (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Expected: tests/visual.spec.ts-snapshots/admin-dashboard-chromium-darwin.png
    Received: test-results/visual-Visual-Regression-Tests-admin-dashboard-snapshot-chromium/admin-dashboard-actual.png
    Diff:     test-results/visual-Visual-Regression-Tests-admin-dashboard-snapshot-chromium/admin-dashboard-diff.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/visual-Visual-Regression-Tests-admin-dashboard-snapshot-chromium/error-context.md


[1A[2K[12/36] [chromium] â€º tests/visual.spec.ts:70:5 â€º Visual Regression Tests â€º login page aria snapshot
[1A[2K[13/36] [firefox] â€º tests/gremlin.spec.ts:38:5 â€º Gremlin (Chaos) Tests â€º should survive chaos on home page
[1A[2K[14/36] [firefox] â€º tests/gremlin.spec.ts:60:5 â€º Gremlin (Chaos) Tests â€º should survive chaos on admin dashboard
[1A[2K  2) [chromium] â€º tests/security.spec.ts:6:5 â€º Security Tests â€º should prevent XSS in blog comments 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: getByText('<script>alert("XSS")</script>')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for getByText('<script>alert("XSS")</script>')[22m


      58 |         // 5. Verify the payload is displayed as text (escaped) or sanitized
      59 |         // It should be visible as text content, meaning it was escaped
    > 60 |         await expect(page.getByText(xssPayload)).toBeVisible();
         |                                                  ^
      61 |
      62 |     });
      63 |
        at /Users/vybhav/Documents/vybhi/bloggy/tests/security.spec.ts:60:50

    Error Context: test-results/security-Security-Tests-should-prevent-XSS-in-blog-comments-chromium/error-context.md


[1A[2K[15/36] [firefox] â€º tests/security.spec.ts:6:5 â€º Security Tests â€º should prevent XSS in blog comments
[1A[2K[16/36] [firefox] â€º tests/security.spec.ts:64:5 â€º Security Tests â€º should redirect unauthenticated users from admin routes
[1A[2K[17/36] [firefox] â€º tests/security.spec.ts:77:5 â€º Security Tests â€º should prevent SQL injection in login
[1A[2K[18/36] [firefox] â€º tests/security.spec.ts:98:5 â€º Security Tests â€º should prevent unauthorized API access
[1A[2K[19/36] [firefox] â€º tests/visual.spec.ts:6:5 â€º Visual Regression Tests â€º home page snapshot
[1A[2K[20/36] [firefox] â€º tests/visual.spec.ts:19:5 â€º Visual Regression Tests â€º login page snapshot
[1A[2K[21/36] [firefox] â€º tests/visual.spec.ts:25:5 â€º Visual Regression Tests â€º blog view snapshot
[1A[2K  3) [firefox] â€º tests/visual.spec.ts:6:5 â€º Visual Regression Tests â€º home page snapshot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveScreenshot[2m([22m[32mexpected[39m[2m)[22m failed

      3777 pixels (ratio 0.01 of all image pixels) are different.

      Snapshot: home-page.png

    Call log:
    [2m  - Expect "toHaveScreenshot(home-page.png)" with timeout 5000ms[22m
    [2m    - verifying given screenshot expectation[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - 3777 pixels (ratio 0.01 of all image pixels) are different.[22m
    [2m  - waiting 100ms before taking screenshot[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - captured a stable screenshot[22m
    [2m  - 3777 pixels (ratio 0.01 of all image pixels) are different.[22m


       8 |         await page.waitForLoadState('networkidle');
       9 |         // Mask dynamic content like dates or random IDs if necessary
    > 10 |         await expect(page).toHaveScreenshot('home-page.png', {
         |                            ^
      11 |             fullPage: true,
      12 |             mask: [
      13 |                 page.locator('.blog-post-card .MuiTypography-caption'), // Dates
        at /Users/vybhav/Documents/vybhi/bloggy/tests/visual.spec.ts:10:28

    attachment #1: home-page (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Expected: tests/visual.spec.ts-snapshots/home-page-firefox-darwin.png
    Received: test-results/visual-Visual-Regression-Tests-home-page-snapshot-firefox/home-page-actual.png
    Diff:     test-results/visual-Visual-Regression-Tests-home-page-snapshot-firefox/home-page-diff.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/visual-Visual-Regression-Tests-home-page-snapshot-firefox/error-context.md


[1A[2K[22/36] [firefox] â€º tests/visual.spec.ts:47:5 â€º Visual Regression Tests â€º admin dashboard snapshot
[1A[2K  4) [firefox] â€º tests/visual.spec.ts:25:5 â€º Visual Regression Tests â€º blog view snapshot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveScreenshot[2m([22m[32mexpected[39m[2m)[22m failed

      Expected an image 1280px by 982px, received 1280px by 904px. 4291 pixels (ratio 0.01 of all image pixels) are different.

      Snapshot: blog-view.png

    Call log:
    [2m  - Expect "toHaveScreenshot(blog-view.png)" with timeout 5000ms[22m
    [2m    - verifying given screenshot expectation[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - Expected an image 1280px by 982px, received 1280px by 904px. 4291 pixels (ratio 0.01 of all image pixels) are different.[22m
    [2m  - waiting 100ms before taking screenshot[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - captured a stable screenshot[22m
    [2m  - Expected an image 1280px by 982px, received 1280px by 904px. 4291 pixels (ratio 0.01 of all image pixels) are different.[22m


      33 |             await page.waitForLoadState('networkidle');
      34 |             // Mask comments section as it might be dynamic
    > 35 |             await expect(page).toHaveScreenshot('blog-view.png', {
         |                                ^
      36 |                 fullPage: true,
      37 |                 mask: [
      38 |                     page.locator('.comments-section'),
        at /Users/vybhav/Documents/vybhi/bloggy/tests/visual.spec.ts:35:32

    attachment #1: blog-view (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Expected: tests/visual.spec.ts-snapshots/blog-view-firefox-darwin.png
    Received: test-results/visual-Visual-Regression-Tests-blog-view-snapshot-firefox/blog-view-actual.png
    Diff:     test-results/visual-Visual-Regression-Tests-blog-view-snapshot-firefox/blog-view-diff.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/visual-Visual-Regression-Tests-blog-view-snapshot-firefox/error-context.md


[1A[2K[23/36] [firefox] â€º tests/visual.spec.ts:70:5 â€º Visual Regression Tests â€º login page aria snapshot
[1A[2K[24/36] [firefox] â€º tests/visual.spec.ts:58:5 â€º Visual Regression Tests â€º home page aria snapshot
[1A[2K  5) [firefox] â€º tests/visual.spec.ts:47:5 â€º Visual Regression Tests â€º admin dashboard snapshot â”€â”€â”€â”€

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveScreenshot[2m([22m[32mexpected[39m[2m)[22m failed

      26 pixels (ratio 0.01 of all image pixels) are different.

      Snapshot: admin-dashboard.png

    Call log:
    [2m  - Expect "toHaveScreenshot(admin-dashboard.png)" with timeout 5000ms[22m
    [2m    - verifying given screenshot expectation[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - 26 pixels (ratio 0.01 of all image pixels) are different.[22m
    [2m  - waiting 100ms before taking screenshot[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - captured a stable screenshot[22m
    [2m  - 26 pixels (ratio 0.01 of all image pixels) are different.[22m


      50 |         await page.waitForLoadState('networkidle');
      51 |         // Mask the table rows as they contain dynamic dates/IDs
    > 52 |         await expect(page).toHaveScreenshot('admin-dashboard.png', {
         |                            ^
      53 |             fullPage: true,
      54 |             mask: [page.locator('table tbody')]
      55 |         });
        at /Users/vybhav/Documents/vybhi/bloggy/tests/visual.spec.ts:52:28

    attachment #1: admin-dashboard (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Expected: tests/visual.spec.ts-snapshots/admin-dashboard-firefox-darwin.png
    Received: test-results/visual-Visual-Regression-Tests-admin-dashboard-snapshot-firefox/admin-dashboard-actual.png
    Diff:     test-results/visual-Visual-Regression-Tests-admin-dashboard-snapshot-firefox/admin-dashboard-diff.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/visual-Visual-Regression-Tests-admin-dashboard-snapshot-firefox/error-context.md


[1A[2K[25/36] [webkit] â€º tests/gremlin.spec.ts:38:5 â€º Gremlin (Chaos) Tests â€º should survive chaos on home page
[1A[2K[26/36] [webkit] â€º tests/gremlin.spec.ts:60:5 â€º Gremlin (Chaos) Tests â€º should survive chaos on admin dashboard
[1A[2K[27/36] [webkit] â€º tests/security.spec.ts:6:5 â€º Security Tests â€º should prevent XSS in blog comments
[1A[2K[28/36] [webkit] â€º tests/security.spec.ts:64:5 â€º Security Tests â€º should redirect unauthenticated users from admin routes
[1A[2K[29/36] [webkit] â€º tests/security.spec.ts:77:5 â€º Security Tests â€º should prevent SQL injection in login
[1A[2K  6) [firefox] â€º tests/security.spec.ts:6:5 â€º Security Tests â€º should prevent XSS in blog comments â”€

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: getByText('<script>alert("XSS")</script>')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for getByText('<script>alert("XSS")</script>')[22m


      58 |         // 5. Verify the payload is displayed as text (escaped) or sanitized
      59 |         // It should be visible as text content, meaning it was escaped
    > 60 |         await expect(page.getByText(xssPayload)).toBeVisible();
         |                                                  ^
      61 |
      62 |     });
      63 |
        at /Users/vybhav/Documents/vybhi/bloggy/tests/security.spec.ts:60:50

    Error Context: test-results/security-Security-Tests-should-prevent-XSS-in-blog-comments-firefox/error-context.md


[1A[2K[30/36] [webkit] â€º tests/security.spec.ts:98:5 â€º Security Tests â€º should prevent unauthorized API access
[1A[2K[31/36] [webkit] â€º tests/visual.spec.ts:6:5 â€º Visual Regression Tests â€º home page snapshot
[1A[2K  7) [webkit] â€º tests/visual.spec.ts:6:5 â€º Visual Regression Tests â€º home page snapshot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveScreenshot[2m([22m[32mexpected[39m[2m)[22m failed

      3977 pixels (ratio 0.01 of all image pixels) are different.

      Snapshot: home-page.png

    Call log:
    [2m  - Expect "toHaveScreenshot(home-page.png)" with timeout 5000ms[22m
    [2m    - verifying given screenshot expectation[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - 3977 pixels (ratio 0.01 of all image pixels) are different.[22m
    [2m  - waiting 100ms before taking screenshot[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - captured a stable screenshot[22m
    [2m  - 3977 pixels (ratio 0.01 of all image pixels) are different.[22m


       8 |         await page.waitForLoadState('networkidle');
       9 |         // Mask dynamic content like dates or random IDs if necessary
    > 10 |         await expect(page).toHaveScreenshot('home-page.png', {
         |                            ^
      11 |             fullPage: true,
      12 |             mask: [
      13 |                 page.locator('.blog-post-card .MuiTypography-caption'), // Dates
        at /Users/vybhav/Documents/vybhi/bloggy/tests/visual.spec.ts:10:28

    attachment #1: home-page (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Expected: tests/visual.spec.ts-snapshots/home-page-webkit-darwin.png
    Received: test-results/visual-Visual-Regression-Tests-home-page-snapshot-webkit/home-page-actual.png
    Diff:     test-results/visual-Visual-Regression-Tests-home-page-snapshot-webkit/home-page-diff.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/visual-Visual-Regression-Tests-home-page-snapshot-webkit/error-context.md


[1A[2K[32/36] [webkit] â€º tests/visual.spec.ts:19:5 â€º Visual Regression Tests â€º login page snapshot
[1A[2K[33/36] [webkit] â€º tests/visual.spec.ts:25:5 â€º Visual Regression Tests â€º blog view snapshot
[1A[2K[34/36] [webkit] â€º tests/visual.spec.ts:47:5 â€º Visual Regression Tests â€º admin dashboard snapshot
[1A[2K  8) [webkit] â€º tests/visual.spec.ts:25:5 â€º Visual Regression Tests â€º blog view snapshot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveScreenshot[2m([22m[32mexpected[39m[2m)[22m failed

      1246 pixels (ratio 0.01 of all image pixels) are different.

      Snapshot: blog-view.png

    Call log:
    [2m  - Expect "toHaveScreenshot(blog-view.png)" with timeout 5000ms[22m
    [2m    - verifying given screenshot expectation[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - 1246 pixels (ratio 0.01 of all image pixels) are different.[22m
    [2m  - waiting 100ms before taking screenshot[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - captured a stable screenshot[22m
    [2m  - 1246 pixels (ratio 0.01 of all image pixels) are different.[22m


      33 |             await page.waitForLoadState('networkidle');
      34 |             // Mask comments section as it might be dynamic
    > 35 |             await expect(page).toHaveScreenshot('blog-view.png', {
         |                                ^
      36 |                 fullPage: true,
      37 |                 mask: [
      38 |                     page.locator('.comments-section'),
        at /Users/vybhav/Documents/vybhi/bloggy/tests/visual.spec.ts:35:32

    attachment #1: blog-view (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Expected: tests/visual.spec.ts-snapshots/blog-view-webkit-darwin.png
    Received: test-results/visual-Visual-Regression-Tests-blog-view-snapshot-webkit/blog-view-actual.png
    Diff:     test-results/visual-Visual-Regression-Tests-blog-view-snapshot-webkit/blog-view-diff.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/visual-Visual-Regression-Tests-blog-view-snapshot-webkit/error-context.md


[1A[2K  9) [webkit] â€º tests/visual.spec.ts:47:5 â€º Visual Regression Tests â€º admin dashboard snapshot â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveScreenshot[2m([22m[32mexpected[39m[2m)[22m failed

      32 pixels (ratio 0.01 of all image pixels) are different.

      Snapshot: admin-dashboard.png

    Call log:
    [2m  - Expect "toHaveScreenshot(admin-dashboard.png)" with timeout 5000ms[22m
    [2m    - verifying given screenshot expectation[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - 32 pixels (ratio 0.01 of all image pixels) are different.[22m
    [2m  - waiting 100ms before taking screenshot[22m
    [2m  - taking page screenshot[22m
    [2m    - disabled all CSS animations[22m
    [2m  - waiting for fonts to load...[22m
    [2m  - fonts loaded[22m
    [2m  - captured a stable screenshot[22m
    [2m  - 32 pixels (ratio 0.01 of all image pixels) are different.[22m


      50 |         await page.waitForLoadState('networkidle');
      51 |         // Mask the table rows as they contain dynamic dates/IDs
    > 52 |         await expect(page).toHaveScreenshot('admin-dashboard.png', {
         |                            ^
      53 |             fullPage: true,
      54 |             mask: [page.locator('table tbody')]
      55 |         });
        at /Users/vybhav/Documents/vybhi/bloggy/tests/visual.spec.ts:52:28

    attachment #1: admin-dashboard (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Expected: tests/visual.spec.ts-snapshots/admin-dashboard-webkit-darwin.png
    Received: test-results/visual-Visual-Regression-Tests-admin-dashboard-snapshot-webkit/admin-dashboard-actual.png
    Diff:     test-results/visual-Visual-Regression-Tests-admin-dashboard-snapshot-webkit/admin-dashboard-diff.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/visual-Visual-Regression-Tests-admin-dashboard-snapshot-webkit/error-context.md


[1A[2K[35/36] [webkit] â€º tests/visual.spec.ts:58:5 â€º Visual Regression Tests â€º home page aria snapshot
[1A[2K[36/36] [webkit] â€º tests/visual.spec.ts:70:5 â€º Visual Regression Tests â€º login page aria snapshot
[1A[2K  10) [webkit] â€º tests/security.spec.ts:6:5 â€º Security Tests â€º should prevent XSS in blog comments â”€

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: getByText('<script>alert("XSS")</script>')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for getByText('<script>alert("XSS")</script>')[22m


      58 |         // 5. Verify the payload is displayed as text (escaped) or sanitized
      59 |         // It should be visible as text content, meaning it was escaped
    > 60 |         await expect(page.getByText(xssPayload)).toBeVisible();
         |                                                  ^
      61 |
      62 |     });
      63 |
        at /Users/vybhav/Documents/vybhi/bloggy/tests/security.spec.ts:60:50

    Error Context: test-results/security-Security-Tests-should-prevent-XSS-in-blog-comments-webkit/error-context.md


[1A[2K  10 failed
    [chromium] â€º tests/security.spec.ts:6:5 â€º Security Tests â€º should prevent XSS in blog comments â”€
    [chromium] â€º tests/visual.spec.ts:47:5 â€º Visual Regression Tests â€º admin dashboard snapshot â”€â”€â”€â”€
    [firefox] â€º tests/security.spec.ts:6:5 â€º Security Tests â€º should prevent XSS in blog comments â”€â”€
    [firefox] â€º tests/visual.spec.ts:6:5 â€º Visual Regression Tests â€º home page snapshot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    [firefox] â€º tests/visual.spec.ts:25:5 â€º Visual Regression Tests â€º blog view snapshot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    [firefox] â€º tests/visual.spec.ts:47:5 â€º Visual Regression Tests â€º admin dashboard snapshot â”€â”€â”€â”€â”€
    [webkit] â€º tests/security.spec.ts:6:5 â€º Security Tests â€º should prevent XSS in blog comments â”€â”€â”€
    [webkit] â€º tests/visual.spec.ts:6:5 â€º Visual Regression Tests â€º home page snapshot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    [webkit] â€º tests/visual.spec.ts:25:5 â€º Visual Regression Tests â€º blog view snapshot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    [webkit] â€º tests/visual.spec.ts:47:5 â€º Visual Regression Tests â€º admin dashboard snapshot â”€â”€â”€â”€â”€â”€
  26 passed (41.5s)

[36m  Serving HTML report at http://localhost:63371. Press Ctrl+C to quit.[39m
